@import "tailwindcss" source(none);
@config "../tailwind.config.cjs";
@source "../index.html";
@source "./**/*.{ts,tsx}";
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

@font-face {
  font-family: "JetBrains Mono";
  src: url("/fonts/JetBrainsMono-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "JetBrains Mono";
  src: url("/fonts/JetBrainsMono-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "JetBrains Mono";
  src: url("/fonts/JetBrainsMono-Italic.woff2") format("woff2");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "JetBrains Mono";
  src: url("/fonts/JetBrainsMono-SemiBoldItalic.woff2") format("woff2");
  font-weight: 600;
  font-style: italic;
  font-display: swap;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
}

@layer base {
  :root {
    --uml-font: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
    --editor-font: var(--uml-font);
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
    --uml-class-bg: #fdf2cc;
    --uml-class-border: hsl(var(--foreground) / 0.2);
    --uml-class-invalid-bg: #fff1dd;
    --uml-class-invalid-border: hsl(36 85% 45% / 0.55);
    --uml-class-compiled-bg: #e7f7e7;
    --uml-class-compiled-border: rgba(110, 180, 110, 0.6);
    --uml-package-bg: #d9d4c3;
    --uml-package-border: hsl(var(--foreground) / 0.25);
    --uml-package-name-bg: #efe6cc;
    --console-bg: #ffffff;
    --console-fg: #0f172a;
    --objectbench-card-bg: 0 80% 92%;
    --objectbench-card-border: 0 55% 70%;
    --editor-separator-color: hsl(var(--border) / 0.6);
    --editor-separator-hover: hsl(var(--primary) / 0.24);
    --menu-bar-shadow:
      0 1px 0 hsl(220 13% 91% / 0.95),
      0 4px 10px hsl(222 47% 11% / 0.14);
  }

  :root[data-theme="dark"] {
    --background: 0 0% 11.8%;
    --foreground: 0 0% 88%;
    --card: 0 0% 16%;
    --card-foreground: 0 0% 88%;
    --popover: 0 0% 16%;
    --popover-foreground: 0 0% 88%;
    --primary: 199 98% 62%;
    --primary-foreground: 0 0% 8%;
    --secondary: 0 0% 20%;
    --secondary-foreground: 0 0% 88%;
    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 63%;
    --accent: 0 0% 23%;
    --accent-foreground: 0 0% 90%;
    --destructive: 0 67% 44%;
    --destructive-foreground: 0 0% 95%;
    --border: 0 0% 28%;
    --input: 0 0% 28%;
    --ring: 199 98% 62%;

    --uml-class-bg: #2c3b32;
    --uml-class-border: hsl(138 24% 57% / 0.45);
    --uml-class-invalid-bg: #4a3530;
    --uml-class-invalid-border: hsl(21 79% 60% / 0.65);
    --uml-class-compiled-bg: #284637;
    --uml-class-compiled-border: rgba(113, 186, 138, 0.7);
    --uml-package-bg: #252526;
    --uml-package-border: hsl(0 0% 70% / 0.22);
    --uml-package-name-bg: #2f3033;

    --console-bg: #1e1e1e;
    --console-fg: #d4d4d4;
    --objectbench-card-bg: 0 0% 19%;
    --objectbench-card-border: 0 0% 35%;
    --editor-separator-color: hsl(var(--primary) / 0.35);
    --editor-separator-hover: hsl(var(--primary) / 0.2);
    --menu-bar-shadow:
      0 1px 0 hsl(var(--primary) / 0.28),
      0 6px 14px hsl(var(--primary) / 0.24);
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Hide Monaco hover status bar row (e.g. "View Problem") */
.monaco-editor .monaco-hover .hover-row.status-bar {
  display: none !important;
}

.monaco-editor {
  --scope-indent-step: 4ch;
  --scope-bg-1: #bfe8c5;
  --scope-bg-2: #f3edb2;
  --scope-bg-3: #c9bdf0;
  --scope-bg-4: #e9b4df;
  --scope-bg-5: #bcc9f2;
  --scope-bg-6: #f1cfaf;
  --scope-selection-bg: #9ec3ff;
}

.monaco-editor.vs-dark,
.monaco-editor.hc-black {
  --scope-bg-1: #355a40;
  --scope-bg-2: #706835;
  --scope-bg-3: #5e4f86;
  --scope-bg-4: #7f5074;
  --scope-bg-5: #556596;
  --scope-bg-6: #84664a;
  --scope-selection-bg: #5f86d1;
}

.monaco-editor .editor-scope-line,
.monaco-editor .view-line .editor-scope-line {
  border-radius: 0;
  background-color: var(--scope-fill-color, transparent);
  background-image: var(--scope-stripes, none);
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

.scope-highlighting-enabled .monaco-editor .focused .selected-text,
.scope-highlighting-enabled .monaco-editor .selected-text,
.scope-highlighting-enabled .monaco-editor .selected-text.inline-selected-text,
.scope-highlighting-enabled .monaco-editor .view-overlays .selected-text,
.scope-highlighting-enabled .monaco-editor .view-overlays .selected-text.inline-selected-text,
.scope-highlighting-enabled .monaco-editor .editor-scope-line .selected-text,
.scope-highlighting-enabled .monaco-editor .view-line .editor-scope-line .selected-text {
  background-color: transparent !important;
}

.scope-highlighting-enabled .monaco-editor .editor-scope-active-selection,
.scope-highlighting-enabled .monaco-editor .view-line .editor-scope-active-selection,
.scope-highlighting-enabled .monaco-editor .view-overlays .editor-scope-active-selection {
  background-color: var(--scope-selection-bg) !important;
  box-shadow:
    0 -1px 0 var(--scope-selection-bg),
    0 1px 0 var(--scope-selection-bg) !important;
  mix-blend-mode: normal !important;
}

.scope-highlighting-enabled .monaco-editor .editor-scope-active-selection-empty {
  display: inline-block;
  width: 1ch;
  height: 1.5em; /* fallback */
  height: 1lh;   /* preferred */
  background-color: var(--scope-selection-bg) !important;
  box-shadow:
    0 -1px 0 var(--scope-selection-bg),
    0 1px 0 var(--scope-selection-bg);
  vertical-align: text-bottom;
}

.monaco-editor .editor-scope-fill-0,
.monaco-editor .view-line .editor-scope-fill-0 {
  --scope-fill-color: transparent;
}

.monaco-editor .editor-scope-fill-1,
.monaco-editor .view-line .editor-scope-fill-1 {
  --scope-fill-color: var(--scope-bg-1);
}

.monaco-editor .editor-scope-fill-2,
.monaco-editor .view-line .editor-scope-fill-2 {
  --scope-fill-color: var(--scope-bg-2);
}

.monaco-editor .editor-scope-fill-3,
.monaco-editor .view-line .editor-scope-fill-3 {
  --scope-fill-color: var(--scope-bg-3);
}

.monaco-editor .editor-scope-fill-4,
.monaco-editor .view-line .editor-scope-fill-4 {
  --scope-fill-color: var(--scope-bg-4);
}

.monaco-editor .editor-scope-fill-5,
.monaco-editor .view-line .editor-scope-fill-5 {
  --scope-fill-color: var(--scope-bg-5);
}

.monaco-editor .editor-scope-fill-6,
.monaco-editor .view-line .editor-scope-fill-6 {
  --scope-fill-color: var(--scope-bg-6);
}

.monaco-editor .editor-scope-stripes-0,
.monaco-editor .view-line .editor-scope-stripes-0 {
  --scope-stripes: none;
}

.monaco-editor .editor-scope-stripes-1,
.monaco-editor .view-line .editor-scope-stripes-1 {
  --scope-stripes: linear-gradient(
    90deg,
    var(--scope-bg-1) 0,
    var(--scope-bg-1) calc(var(--scope-indent-step) * 1),
    transparent calc(var(--scope-indent-step) * 1),
    transparent 100%
  );
}

.monaco-editor .editor-scope-stripes-2,
.monaco-editor .view-line .editor-scope-stripes-2 {
  --scope-stripes: linear-gradient(
    90deg,
    var(--scope-bg-1) 0,
    var(--scope-bg-1) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 2),
    transparent calc(var(--scope-indent-step) * 2),
    transparent 100%
  );
}

.monaco-editor .editor-scope-stripes-3,
.monaco-editor .view-line .editor-scope-stripes-3 {
  --scope-stripes: linear-gradient(
    90deg,
    var(--scope-bg-1) 0,
    var(--scope-bg-1) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 3),
    transparent calc(var(--scope-indent-step) * 3),
    transparent 100%
  );
}

.monaco-editor .editor-scope-stripes-4,
.monaco-editor .view-line .editor-scope-stripes-4 {
  --scope-stripes: linear-gradient(
    90deg,
    var(--scope-bg-1) 0,
    var(--scope-bg-1) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 3),
    var(--scope-bg-4) calc(var(--scope-indent-step) * 3),
    var(--scope-bg-4) calc(var(--scope-indent-step) * 4),
    transparent calc(var(--scope-indent-step) * 4),
    transparent 100%
  );
}

.monaco-editor .editor-scope-stripes-5,
.monaco-editor .view-line .editor-scope-stripes-5 {
  --scope-stripes: linear-gradient(
    90deg,
    var(--scope-bg-1) 0,
    var(--scope-bg-1) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 3),
    var(--scope-bg-4) calc(var(--scope-indent-step) * 3),
    var(--scope-bg-4) calc(var(--scope-indent-step) * 4),
    var(--scope-bg-5) calc(var(--scope-indent-step) * 4),
    var(--scope-bg-5) calc(var(--scope-indent-step) * 5),
    transparent calc(var(--scope-indent-step) * 5),
    transparent 100%
  );
}

.monaco-editor .editor-scope-stripes-6,
.monaco-editor .view-line .editor-scope-stripes-6 {
  --scope-stripes: linear-gradient(
    90deg,
    var(--scope-bg-1) 0,
    var(--scope-bg-1) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 1),
    var(--scope-bg-2) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 2),
    var(--scope-bg-3) calc(var(--scope-indent-step) * 3),
    var(--scope-bg-4) calc(var(--scope-indent-step) * 3),
    var(--scope-bg-4) calc(var(--scope-indent-step) * 4),
    var(--scope-bg-5) calc(var(--scope-indent-step) * 4),
    var(--scope-bg-5) calc(var(--scope-indent-step) * 5),
    var(--scope-bg-6) calc(var(--scope-indent-step) * 5),
    var(--scope-bg-6) calc(var(--scope-indent-step) * 6),
    transparent calc(var(--scope-indent-step) * 6),
    transparent 100%
  );
}

.editor-separator-handle {
  transition: background-color 150ms;
}

.editor-separator-handle:hover {
  background-color: var(--editor-separator-hover);
}

.editor-separator-line {
  background-color: var(--editor-separator-color);
}

